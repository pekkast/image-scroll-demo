(this["webpackJsonpimage-scroll-demo"]=this["webpackJsonpimage-scroll-demo"]||[]).push([[0],{62:function(e,t,a){e.exports=a(74)},74:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(9),c=a.n(o),i=a(20),l=a(38),u=a(21),s=a(26),m=a(52),h=a(39),p=a(33),d=a.n(p),E=a(42),f=function(e){return{type:"app.images.PHOTOS_LOADED",photos:e}},O=function(e){return{type:"app.images.SINGLE_LOADED",photo:e}},g="https://jsonplaceholder.typicode.com",v={photos:[],loading:!1};var w=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||s.c,b=Object(s.d)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:v,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"app.images.PHOTOS_LOADED":return Object(h.a)({},e,{photos:e.photos.concat(t.photos),loading:!1});case"app.images.PHOTOS_LOAD_MORE":return Object(h.a)({},e,{loading:!0});case"app.images.SINGLE_LOADED":return Object(h.a)({},e,{directPhoto:t.photo});default:return e}}),w(Object(s.a)(m.a))),j=a(4),y=a(111),S=a(53),_=a.n(S),k=a(23),M=a(105),L=a(115),D=a(106),N=a(113),x=a(107),A=a(108),C=a(109),P=a(110),H=a(104),I=a(97),T=function(e){var t=e.title,a=e.src,n=e.width,o=e.height,c=e.className,i=r.a.useState(!0),l=Object(k.a)(i,2),u=l[0],s=l[1];return r.a.createElement(r.a.Fragment,null,u&&r.a.createElement(I.a,{className:c,variant:"rect",animation:"wave",width:n,height:o}),r.a.createElement("img",{className:c,style:{display:u?"none":"inline-block"},alt:t,src:a,width:n,height:o,onLoad:function(){return s(!1)}}))},z=a(100),R=a(101),B=a(102),F=a(76),W=a(103),G=function(e){var t=e.photo,a=e.actions;return r.a.createElement(z.a,null,r.a.createElement(R.a,null,r.a.createElement(T,{className:"MuiCardMedia-img MuiCardMedia-media",title:t.title,height:600,width:"100%",src:t.url}),r.a.createElement(B.a,null,r.a.createElement(F.a,{gutterBottom:!0,variant:"h5",component:"h2"},t.title))),a&&r.a.createElement(W.a,null,a))},J=Object(H.a)({tile:{cursor:"pointer"}}),U=function(e){var t=e.photos,a=e.columnCount,n=e.spacing,o=e.tileSize,c=r.a.useState(!1),i=Object(k.a)(c,2),l=i[0],u=i[1],s=r.a.useState(null),m=Object(k.a)(s,2),h=m[0],p=m[1],d=function(){return u(!1)},E=J();return r.a.createElement(r.a.Fragment,null,r.a.createElement(M.a,{cellHeight:o,cols:a,spacing:n},t.map((function(e){return r.a.createElement(L.a,{className:E.tile,key:e.id,onClick:function(){return p(e),void u(!0)}},r.a.createElement(T,{title:e.title,src:e.thumbnailUrl}),r.a.createElement(D.a,{title:e.title}))}))),r.a.createElement(N.a,{open:l,onClose:d,"aria-labelledby":"photo-details-title"},r.a.createElement(x.a,{id:"photo-details-title"},null===h||void 0===h?void 0:h.title),r.a.createElement(A.a,null,r.a.createElement(G,{photo:h})),r.a.createElement(C.a,null,r.a.createElement(P.a,{onClick:d,color:"primary"},"Sulje"))))},X=function(e){return{width:e.innerWidth,height:e.innerHeight}};var K=a(114),V=Object(j.a)({root:{height:20,margin:5}})(y.a),$=function(){var e=Object(i.b)(),t=Object(i.c)((function(e){return e.photos})),a=function(){var e=Object(n.useState)(X(window)),t=Object(k.a)(e,2),a=t[0],r=t[1],o=function(){return r(X(window))};return Object(n.useEffect)((function(){return window.addEventListener("resize",o),function(){return window.removeEventListener("resize",o)}}),[]),a}(),o=a.height,c=a.width,l=Math.floor(c/150)||1,u=l>1?Math.floor(c%150/(l-1)):0,s=Math.floor(o/150)||1,m=Math.max(20,l*s*2),h=t.length<5e3;return r.a.createElement(r.a.Fragment,null,r.a.createElement(_.a,{pageStart:1,loadMore:function(){return e(function(e){return function(){var t=Object(E.a)(d.a.mark((function t(a,n){var r,o,c;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=n(),o=r.photos,a({type:"app.images.PHOTOS_LOAD_MORE"}),t.next=4,fetch("".concat(g,"/photos?_start=").concat(o.length,"&_limit=").concat(e));case 4:return c=t.sent,t.t0=a,t.t1=f,t.next=9,c.json();case 9:t.t2=t.sent,t.t3=(0,t.t1)(t.t2),(0,t.t0)(t.t3);case 12:case"end":return t.stop()}}),t)})));return function(e,a){return t.apply(this,arguments)}}()}(m))},hasMore:h,loader:r.a.createElement(V,{key:"loading"})},r.a.createElement(U,{key:"images",photos:t,columnCount:l,spacing:u,tileSize:150})),!h&&r.a.createElement(K.a,{severity:"success"},"Kaikki ladattu - hyv\xe4\xe4 ty\xf6t\xe4!"))},q=function(){var e=Object(u.f)().photoId,t=e?parseInt(e,10):0,a=Object(i.b)(),o=Object(i.c)((function(e){return t?e.photos.find((function(e){return e.id===t}))||function(e,t){return t&&t.id===e?t:null}(t,e.directPhoto):null}));return Object(n.useEffect)((function(){o||a(function(e){return function(){var t=Object(E.a)(d.a.mark((function t(a){var n;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a({type:"app.images.PHOTOS_LOAD_MORE"}),t.next=3,fetch("".concat(g,"/photos/").concat(e));case 3:return n=t.sent,t.t0=a,t.t1=O,t.next=8,n.json();case 8:t.t2=t.sent,t.t3=(0,t.t1)(t.t2),(0,t.t0)(t.t3);case 11:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}(t))}),[e,o,a,t]),o?r.a.createElement(G,{photo:o,actions:[r.a.createElement(l.b,{key:"router",to:"/",component:P.a,color:"primary"},"Listaukseen")]}):r.a.createElement(I.a,{variant:"rect",animation:"wave",width:"100%",height:600})},Q=a(112);var Y=function(){return r.a.createElement(i.a,{store:b},r.a.createElement(Q.a,null),r.a.createElement(l.a,null,r.a.createElement("div",{className:"App"},r.a.createElement(u.c,null,r.a.createElement(u.a,{path:"/photos/:photoId"},r.a.createElement(q,null)),r.a.createElement(u.a,{path:"/"},r.a.createElement($,null))))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(Y,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[62,1,2]]]);
//# sourceMappingURL=main.7d45c057.chunk.js.map